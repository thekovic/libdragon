<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libdragon: rdpq_attach.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo2.png"/></td>
  <td id="projectalign">
   <div id="projectname">libdragon
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_e82f31e8932771ae6769214a98ceba7f.html">rdpq</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">rdpq_attach.c File Reference<div class="ingroups"><a class="el" href="group__libdragon.html">libdragon</a> &raquo; <a class="el" href="group__display.html">Display Subsystem</a> &raquo; <a class="el" href="group__rdp.html">(Deprecated) Old RDP library</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>RDP Command queue: surface attachment API.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a0d2202d1eee440a5285578ba75f432be"><td class="memItemLeft" align="right" valign="top"><a id="a0d2202d1eee440a5285578ba75f432be" name="a0d2202d1eee440a5285578ba75f432be"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ATTACH_STACK_SIZE</b>&#160;&#160;&#160;4</td></tr>
<tr class="memdesc:a0d2202d1eee440a5285578ba75f432be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of the internal stack of attached surfaces. <br /></td></tr>
<tr class="separator:a0d2202d1eee440a5285578ba75f432be"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aea256c08b6e880336eb6ded1b3eea1f6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__attach_8c.html#aea256c08b6e880336eb6ded1b3eea1f6">rdpq_is_attached</a> (void)</td></tr>
<tr class="memdesc:aea256c08b6e880336eb6ded1b3eea1f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the RDP is currently attached to a surface.  <a href="rdpq__attach_8c.html#aea256c08b6e880336eb6ded1b3eea1f6">More...</a><br /></td></tr>
<tr class="separator:aea256c08b6e880336eb6ded1b3eea1f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67bd7bcd3d71538f5a10d50ba73b6b10"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__attach_8c.html#a67bd7bcd3d71538f5a10d50ba73b6b10">rdpq_attach</a> (const <a class="el" href="surface_8h.html#structsurface__t">surface_t</a> *surf_color, const <a class="el" href="surface_8h.html#structsurface__t">surface_t</a> *surf_z)</td></tr>
<tr class="memdesc:a67bd7bcd3d71538f5a10d50ba73b6b10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attach the RDP to a color surface (and optionally a Z buffer)  <a href="rdpq__attach_8c.html#a67bd7bcd3d71538f5a10d50ba73b6b10">More...</a><br /></td></tr>
<tr class="separator:a67bd7bcd3d71538f5a10d50ba73b6b10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd5b2e8619d8484b732a390316e5892e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__attach_8c.html#acd5b2e8619d8484b732a390316e5892e">rdpq_attach_clear</a> (const <a class="el" href="surface_8h.html#structsurface__t">surface_t</a> *surf_color, const <a class="el" href="surface_8h.html#structsurface__t">surface_t</a> *surf_z)</td></tr>
<tr class="memdesc:acd5b2e8619d8484b732a390316e5892e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attach the RDP to a surface and clear it.  <a href="rdpq__attach_8c.html#acd5b2e8619d8484b732a390316e5892e">More...</a><br /></td></tr>
<tr class="separator:acd5b2e8619d8484b732a390316e5892e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37782c2d5ab0567073bbd2c9ff902f09"><td class="memItemLeft" align="right" valign="top"><a id="a37782c2d5ab0567073bbd2c9ff902f09" name="a37782c2d5ab0567073bbd2c9ff902f09"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>__rdpq_clear</b> (const <a class="el" href="group__graphics.html#structcolor__t">color_t</a> *clr)</td></tr>
<tr class="memdesc:a37782c2d5ab0567073bbd2c9ff902f09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Like <a class="el" href="rdpq__attach_8c.html#a57062dc5e71cc6531b82785cf56be865" title="Clear the current render target with the specified color.">rdpq_clear</a>, but with optional fill color configuration. <br /></td></tr>
<tr class="separator:a37782c2d5ab0567073bbd2c9ff902f09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6ca3012a24a3ad46caa288981d5bf4e"><td class="memItemLeft" align="right" valign="top"><a id="ad6ca3012a24a3ad46caa288981d5bf4e" name="ad6ca3012a24a3ad46caa288981d5bf4e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>__rdpq_clear_z</b> (const uint16_t *z)</td></tr>
<tr class="memdesc:ad6ca3012a24a3ad46caa288981d5bf4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Like <a class="el" href="rdpq__attach_8c.html#a047f715076b21ea45112d91360812809" title="Reset the current Z buffer to a given value.">rdpq_clear_z</a>, but with optional fill z value configuration. <br /></td></tr>
<tr class="separator:ad6ca3012a24a3ad46caa288981d5bf4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a314794c596f3667e62d5727f86b851ef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__attach_8c.html#a314794c596f3667e62d5727f86b851ef">rdpq_detach_cb</a> (void(*cb)(void *), void *arg)</td></tr>
<tr class="memdesc:a314794c596f3667e62d5727f86b851ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detach the RDP from the current surface, and call a callback when the RDP has finished drawing to it.  <a href="rdpq__attach_8c.html#a314794c596f3667e62d5727f86b851ef">More...</a><br /></td></tr>
<tr class="separator:a314794c596f3667e62d5727f86b851ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88ddcc861cd4cd2027f3501a04b418d7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__attach_8c.html#a88ddcc861cd4cd2027f3501a04b418d7">rdpq_detach_show</a> (void)</td></tr>
<tr class="memdesc:a88ddcc861cd4cd2027f3501a04b418d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detach the RDP from the current framebuffer, and show it on screen.  <a href="rdpq__attach_8c.html#a88ddcc861cd4cd2027f3501a04b418d7">More...</a><br /></td></tr>
<tr class="separator:a88ddcc861cd4cd2027f3501a04b418d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57062dc5e71cc6531b82785cf56be865"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__attach_8c.html#a57062dc5e71cc6531b82785cf56be865">rdpq_clear</a> (<a class="el" href="group__graphics.html#structcolor__t">color_t</a> color)</td></tr>
<tr class="memdesc:a57062dc5e71cc6531b82785cf56be865"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear the current render target with the specified color.  <a href="rdpq__attach_8c.html#a57062dc5e71cc6531b82785cf56be865">More...</a><br /></td></tr>
<tr class="separator:a57062dc5e71cc6531b82785cf56be865"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a047f715076b21ea45112d91360812809"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__attach_8c.html#a047f715076b21ea45112d91360812809">rdpq_clear_z</a> (uint16_t z)</td></tr>
<tr class="memdesc:a047f715076b21ea45112d91360812809"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the current Z buffer to a given value.  <a href="rdpq__attach_8c.html#a047f715076b21ea45112d91360812809">More...</a><br /></td></tr>
<tr class="separator:a047f715076b21ea45112d91360812809"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8c2f2ec501e83d6fcd4c37675c512f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__attach_8c.html#ac8c2f2ec501e83d6fcd4c37675c512f7">rdpq_detach</a> (void)</td></tr>
<tr class="memdesc:ac8c2f2ec501e83d6fcd4c37675c512f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detach the RDP from the current surface, and restore the previous one.  <a href="rdpq__attach_8c.html#ac8c2f2ec501e83d6fcd4c37675c512f7">More...</a><br /></td></tr>
<tr class="separator:ac8c2f2ec501e83d6fcd4c37675c512f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49bc95afc9cd65a66bb2e58f59ae890c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__attach_8c.html#a49bc95afc9cd65a66bb2e58f59ae890c">rdpq_detach_wait</a> (void)</td></tr>
<tr class="memdesc:a49bc95afc9cd65a66bb2e58f59ae890c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detach the RDP from the current surface, waiting for RDP to finish drawing.  <a href="rdpq__attach_8c.html#a49bc95afc9cd65a66bb2e58f59ae890c">More...</a><br /></td></tr>
<tr class="separator:a49bc95afc9cd65a66bb2e58f59ae890c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >RDP Command queue: surface attachment API. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aea256c08b6e880336eb6ded1b3eea1f6" name="aea256c08b6e880336eb6ded1b3eea1f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea256c08b6e880336eb6ded1b3eea1f6">&#9670;&nbsp;</a></span>rdpq_is_attached()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool rdpq_is_attached </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the RDP is currently attached to a surface. </p>
<dl class="section return"><dt>Returns</dt><dd>true if it is attached, false otherwise. </dd></dl>

</div>
</div>
<a id="a67bd7bcd3d71538f5a10d50ba73b6b10" name="a67bd7bcd3d71538f5a10d50ba73b6b10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67bd7bcd3d71538f5a10d50ba73b6b10">&#9670;&nbsp;</a></span>rdpq_attach()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rdpq_attach </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="surface_8h.html#structsurface__t">surface_t</a> *&#160;</td>
          <td class="paramname"><em>surf_color</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="surface_8h.html#structsurface__t">surface_t</a> *&#160;</td>
          <td class="paramname"><em>surf_z</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attach the RDP to a color surface (and optionally a Z buffer) </p>
<p >This function configures the new render targets the RDP will draw to. It accepts both a color buffer and optionally a Z buffer, both of which in terms of <a class="el" href="surface_8h.html#structsurface__t" title="A surface buffer for graphics.">surface_t</a> pointers.</p>
<p >For instance, it can be used with framebuffers acquired by calling <a class="el" href="group__display.html#gaf8ad0501f0408430e3b40f0f626a33bd" title="Get a display buffer for rendering.">display_get</a>, or to render to an offscreen buffer created with <a class="el" href="surface_8h.html#a5a48f2ccc890381490463097d6f51c93" title="Allocate a new surface in memory.">surface_alloc</a> or <a class="el" href="surface_8h.html#a47bd38809ff7938c1d0123d540a2851a" title="Initialize a surface_t structure with the provided buffer.">surface_make</a>.</p>
<p >This function should be called before any rendering operations to ensure that the RDP has a valid render target to operate on.</p>
<p >The previous render targets are stored away in a small stack, so that they can be restored later when <a class="el" href="rdpq__attach_8h.html#ac8c2f2ec501e83d6fcd4c37675c512f7" title="Detach the RDP from the current surface, and restore the previous one.">rdpq_detach</a> is called. This allows to temporarily switch rendering to an offscreen surface, and then restore the main render target.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">surf_color</td><td>The surface to render to. Supported formats are: <a class="el" href="surface_8h.html#a01f43f3d6c80a7658bf729bfaf3136e1a0ae35df0b9a28b002380dc866dad303a" title="Format RGBA 8888 (32-bit)">FMT_RGBA32</a>, <a class="el" href="surface_8h.html#a01f43f3d6c80a7658bf729bfaf3136e1ae781a51949044f96a872ca8e2715bed5" title="Format RGBA 5551 (16-bit)">FMT_RGBA16</a>, <a class="el" href="surface_8h.html#a01f43f3d6c80a7658bf729bfaf3136e1a1d1f3cf5eb79947c79274c2a353e86aa" title="Format CI8: color index 8-bit (paletted, 1 index per byte)">FMT_CI8</a>, <a class="el" href="surface_8h.html#a01f43f3d6c80a7658bf729bfaf3136e1a7845dc9354faccf8262e271b1026b0f2" title="Format I8: 8-bit intensity (8-bit per pixel)">FMT_I8</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">surf_z</td><td>The Z-buffer to render to (can be NULL if no Z-buffer is required). The only supported format is <a class="el" href="surface_8h.html#a01f43f3d6c80a7658bf729bfaf3136e1ae781a51949044f96a872ca8e2715bed5" title="Format RGBA 5551 (16-bit)">FMT_RGBA16</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__display.html#gaf8ad0501f0408430e3b40f0f626a33bd" title="Get a display buffer for rendering.">display_get</a> </dd>
<dd>
<a class="el" href="surface_8h.html#a5a48f2ccc890381490463097d6f51c93" title="Allocate a new surface in memory.">surface_alloc</a> </dd></dl>

</div>
</div>
<a id="acd5b2e8619d8484b732a390316e5892e" name="acd5b2e8619d8484b732a390316e5892e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd5b2e8619d8484b732a390316e5892e">&#9670;&nbsp;</a></span>rdpq_attach_clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rdpq_attach_clear </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="surface_8h.html#structsurface__t">surface_t</a> *&#160;</td>
          <td class="paramname"><em>surf_color</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="surface_8h.html#structsurface__t">surface_t</a> *&#160;</td>
          <td class="paramname"><em>surf_z</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attach the RDP to a surface and clear it. </p>
<p >This function is similar to <a class="el" href="rdpq__attach_8h.html#a67bd7bcd3d71538f5a10d50ba73b6b10" title="Attach the RDP to a color surface (and optionally a Z buffer)">rdpq_attach</a>, but it also clears the surface to full black (color 0) immediately after attaching. If a z-buffer is specified, it is also cleared (to 0xFFFC).</p>
<p >This function is just a shortcut for calling <a class="el" href="rdpq__attach_8h.html#a67bd7bcd3d71538f5a10d50ba73b6b10" title="Attach the RDP to a color surface (and optionally a Z buffer)">rdpq_attach</a>, <a class="el" href="rdpq__attach_8h.html#a57062dc5e71cc6531b82785cf56be865" title="Clear the current render target with the specified color.">rdpq_clear</a> and <a class="el" href="rdpq__attach_8h.html#a047f715076b21ea45112d91360812809" title="Reset the current Z buffer to a given value.">rdpq_clear_z</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">surf_color</td><td>The surface to render to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">surf_z</td><td>The Z-buffer to render to (can be NULL if no Z-buffer is required).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__display.html#gaf8ad0501f0408430e3b40f0f626a33bd" title="Get a display buffer for rendering.">display_get</a> </dd>
<dd>
<a class="el" href="surface_8h.html#a5a48f2ccc890381490463097d6f51c93" title="Allocate a new surface in memory.">surface_alloc</a> </dd>
<dd>
<a class="el" href="rdpq__attach_8h.html#a57062dc5e71cc6531b82785cf56be865" title="Clear the current render target with the specified color.">rdpq_clear</a> </dd>
<dd>
<a class="el" href="rdpq__attach_8h.html#a047f715076b21ea45112d91360812809" title="Reset the current Z buffer to a given value.">rdpq_clear_z</a> </dd></dl>

</div>
</div>
<a id="a314794c596f3667e62d5727f86b851ef" name="a314794c596f3667e62d5727f86b851ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a314794c596f3667e62d5727f86b851ef">&#9670;&nbsp;</a></span>rdpq_detach_cb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rdpq_detach_cb </td>
          <td>(</td>
          <td class="paramtype">void(*)(void *)&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Detach the RDP from the current surface, and call a callback when the RDP has finished drawing to it. </p>
<p >This function is similar to <a class="el" href="rdpq__attach_8h.html#ac8c2f2ec501e83d6fcd4c37675c512f7" title="Detach the RDP from the current surface, and restore the previous one.">rdpq_detach</a>: it does not block the CPU, but schedules for a callback to be called (under interrupt) when the RDP has finished drawing to the surface.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cb</td><td>Callback that will be called when the RDP has finished drawing to the surface. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">arg</td><td>Argument to the callback.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="rdpq__attach_8h.html#ac8c2f2ec501e83d6fcd4c37675c512f7" title="Detach the RDP from the current surface, and restore the previous one.">rdpq_detach</a> </dd></dl>

</div>
</div>
<a id="a88ddcc861cd4cd2027f3501a04b418d7" name="a88ddcc861cd4cd2027f3501a04b418d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88ddcc861cd4cd2027f3501a04b418d7">&#9670;&nbsp;</a></span>rdpq_detach_show()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rdpq_detach_show </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Detach the RDP from the current framebuffer, and show it on screen. </p>
<p >This function runs a <a class="el" href="rdpq__attach_8h.html#ac8c2f2ec501e83d6fcd4c37675c512f7" title="Detach the RDP from the current surface, and restore the previous one.">rdpq_detach</a> on the surface, and then schedules in background for the surface to be displayed on screen after the RDP has finished drawing to it.</p>
<p >The net result is similar to calling <a class="el" href="rdpq__attach_8h.html#a49bc95afc9cd65a66bb2e58f59ae890c" title="Detach the RDP from the current surface, waiting for RDP to finish drawing.">rdpq_detach_wait</a> and then <a class="el" href="group__display.html#ga4f4a773501687663d0bf76f5cced752f" title="Display a buffer on the screen.">display_show</a> manually, but it is more efficient because it does not block the CPU. Thus, if this function is called at the end of the frame, the CPU can immediately start working on the next one (assuming there is a free framebuffer available).</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="rdpq__attach_8h.html#a49bc95afc9cd65a66bb2e58f59ae890c" title="Detach the RDP from the current surface, waiting for RDP to finish drawing.">rdpq_detach_wait</a> </dd>
<dd>
<a class="el" href="group__display.html#ga4f4a773501687663d0bf76f5cced752f" title="Display a buffer on the screen.">display_show</a> </dd></dl>

</div>
</div>
<a id="a57062dc5e71cc6531b82785cf56be865" name="a57062dc5e71cc6531b82785cf56be865"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57062dc5e71cc6531b82785cf56be865">&#9670;&nbsp;</a></span>rdpq_clear()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rdpq_clear </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__graphics.html#structcolor__t">color_t</a>&#160;</td>
          <td class="paramname"><em>color</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clear the current render target with the specified color. </p>
<p >Note that this function will respect the current scissor rectangle, if configured.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">color</td><td>Color to use to clear the surface </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a047f715076b21ea45112d91360812809" name="a047f715076b21ea45112d91360812809"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a047f715076b21ea45112d91360812809">&#9670;&nbsp;</a></span>rdpq_clear_z()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rdpq_clear_z </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>z</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reset the current Z buffer to a given value. </p>
<p >Note that this function will respect the current scissor rectangle, if configured.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">z</td><td>Value to reset the Z buffer to </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac8c2f2ec501e83d6fcd4c37675c512f7" name="ac8c2f2ec501e83d6fcd4c37675c512f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8c2f2ec501e83d6fcd4c37675c512f7">&#9670;&nbsp;</a></span>rdpq_detach()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rdpq_detach </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Detach the RDP from the current surface, and restore the previous one. </p>
<p >This function detaches the RDP from the current surface. Using a small internal stack, the previous render target is restored (if any).</p>
<p >Notice that <a class="el" href="rdpq__attach_8h.html#ac8c2f2ec501e83d6fcd4c37675c512f7" title="Detach the RDP from the current surface, and restore the previous one.">rdpq_detach</a> does not wait for the RDP to finish rendering, like any other rdpq function. If you need to ensure that the RDP has finished rendering, either call <a class="el" href="rspq_8h.html#af3055d289f73a125e15b72429cfc91ed" title="Wait until all commands in the queue have been executed by RSP.">rspq_wait</a> afterwards, or use the <a class="el" href="rdpq__attach_8h.html#a49bc95afc9cd65a66bb2e58f59ae890c" title="Detach the RDP from the current surface, waiting for RDP to finish drawing.">rdpq_detach_wait</a> function.</p>
<p >A common use case is detaching from the main framebuffer (obtained via <a class="el" href="group__display.html#gaf8ad0501f0408430e3b40f0f626a33bd" title="Get a display buffer for rendering.">display_get</a>), and then displaying it via <a class="el" href="group__display.html#ga4f4a773501687663d0bf76f5cced752f" title="Display a buffer on the screen.">display_show</a>. For this case, consider using <a class="el" href="rdpq__attach_8h.html#a88ddcc861cd4cd2027f3501a04b418d7" title="Detach the RDP from the current framebuffer, and show it on screen.">rdpq_detach_show</a> which basically schedules the <a class="el" href="group__display.html#ga4f4a773501687663d0bf76f5cced752f" title="Display a buffer on the screen.">display_show</a> to happen automatically without blocking the CPU.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="rdpq__attach_8h.html#a67bd7bcd3d71538f5a10d50ba73b6b10" title="Attach the RDP to a color surface (and optionally a Z buffer)">rdpq_attach</a> </dd>
<dd>
<a class="el" href="rdpq__attach_8h.html#a88ddcc861cd4cd2027f3501a04b418d7" title="Detach the RDP from the current framebuffer, and show it on screen.">rdpq_detach_show</a> </dd>
<dd>
<a class="el" href="rdpq__attach_8h.html#a49bc95afc9cd65a66bb2e58f59ae890c" title="Detach the RDP from the current surface, waiting for RDP to finish drawing.">rdpq_detach_wait</a> </dd></dl>

</div>
</div>
<a id="a49bc95afc9cd65a66bb2e58f59ae890c" name="a49bc95afc9cd65a66bb2e58f59ae890c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49bc95afc9cd65a66bb2e58f59ae890c">&#9670;&nbsp;</a></span>rdpq_detach_wait()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rdpq_detach_wait </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Detach the RDP from the current surface, waiting for RDP to finish drawing. </p>
<p >This function is similar to <a class="el" href="rdpq__attach_8h.html#ac8c2f2ec501e83d6fcd4c37675c512f7" title="Detach the RDP from the current surface, and restore the previous one.">rdpq_detach</a>, but also waits for the RDP to finish drawing to the surface.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="rdpq__attach_8h.html#ac8c2f2ec501e83d6fcd4c37675c512f7" title="Detach the RDP from the current surface, and restore the previous one.">rdpq_detach</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
