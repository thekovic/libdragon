<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libdragon: debug.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo2.png"/></td>
  <td id="projectalign">
   <div id="projectname">libdragon
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">debug.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Debugging Support.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:afc19541124f4e8e53c6deb3367030740"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug_8c.html#afc19541124f4e8e53c6deb3367030740">ISVIEWER_WRITE_LEN</a>&#160;&#160;&#160;((volatile uint32_t *)0xB3FF0014)</td></tr>
<tr class="separator:afc19541124f4e8e53c6deb3367030740"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8ee018ab83421d4023d62dbf101a3a7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug_8c.html#ac8ee018ab83421d4023d62dbf101a3a7">ISVIEWER_BUFFER</a>&#160;&#160;&#160;((volatile uint32_t *)0xB3FF0020)</td></tr>
<tr class="separator:ac8ee018ab83421d4023d62dbf101a3a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27745d9b9c5d96c55b87b67b1aa998d6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug_8c.html#a27745d9b9c5d96c55b87b67b1aa998d6">ISVIEWER_BUFFER_LEN</a>&#160;&#160;&#160;0x00000200</td></tr>
<tr class="separator:a27745d9b9c5d96c55b87b67b1aa998d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa96bc6bb5bf359ae13b78e7ff9a3527e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug_8c.html#aa96bc6bb5bf359ae13b78e7ff9a3527e">MAX_FAT_FILES</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:aa96bc6bb5bf359ae13b78e7ff9a3527e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a65d2f3596d42c5a91abe1ac969bf7db5"><td class="memItemLeft" align="right" valign="top"><a id="a65d2f3596d42c5a91abe1ac969bf7db5" name="a65d2f3596d42c5a91abe1ac969bf7db5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>__debug_backtrace</b> (FILE *out, bool skip_exception)</td></tr>
<tr class="memdesc:a65d2f3596d42c5a91abe1ac969bf7db5"><td class="mdescLeft">&#160;</td><td class="mdescRight">internal backtrace printing function <br /></td></tr>
<tr class="separator:a65d2f3596d42c5a91abe1ac969bf7db5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f02f7ea80953939be4adfc1d49b4719"><td class="memItemLeft" align="right" valign="top"><a id="a9f02f7ea80953939be4adfc1d49b4719" name="a9f02f7ea80953939be4adfc1d49b4719"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>debug_init_usblog</b> (void)</td></tr>
<tr class="memdesc:a9f02f7ea80953939be4adfc1d49b4719"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize USB logging. <br /></td></tr>
<tr class="separator:a9f02f7ea80953939be4adfc1d49b4719"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bdd3be29723c75707fdf94baa7e1052"><td class="memItemLeft" align="right" valign="top"><a id="a5bdd3be29723c75707fdf94baa7e1052" name="a5bdd3be29723c75707fdf94baa7e1052"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>debug_init_isviewer</b> (void)</td></tr>
<tr class="memdesc:a5bdd3be29723c75707fdf94baa7e1052"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize ISViewer logging. <br /></td></tr>
<tr class="separator:a5bdd3be29723c75707fdf94baa7e1052"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13a8318eac14e17f60d7844a7451dc3b"><td class="memItemLeft" align="right" valign="top"><a id="a13a8318eac14e17f60d7844a7451dc3b" name="a13a8318eac14e17f60d7844a7451dc3b"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>debug_init_sdlog</b> (const char *fn, const char *openfmt)</td></tr>
<tr class="memdesc:a13a8318eac14e17f60d7844a7451dc3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize SD logging. <br /></td></tr>
<tr class="separator:a13a8318eac14e17f60d7844a7451dc3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a875d0a14c79b9b6dcd2dbd7ee521e8be"><td class="memItemLeft" align="right" valign="top"><a id="a875d0a14c79b9b6dcd2dbd7ee521e8be" name="a875d0a14c79b9b6dcd2dbd7ee521e8be"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>debug_init_sdfs</b> (const char *prefix, int npart)</td></tr>
<tr class="memdesc:a875d0a14c79b9b6dcd2dbd7ee521e8be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize SD filesystem. <br /></td></tr>
<tr class="separator:a875d0a14c79b9b6dcd2dbd7ee521e8be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae313def8713f061570a2f771abe088a1"><td class="memItemLeft" align="right" valign="top"><a id="ae313def8713f061570a2f771abe088a1" name="ae313def8713f061570a2f771abe088a1"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>debug_close_sdfs</b> (void)</td></tr>
<tr class="memdesc:ae313def8713f061570a2f771abe088a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shutdown SD filesystem. <br /></td></tr>
<tr class="separator:ae313def8713f061570a2f771abe088a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b30820e0172cfb41a7c3bedc0da987e"><td class="memItemLeft" align="right" valign="top"><a id="a8b30820e0172cfb41a7c3bedc0da987e" name="a8b30820e0172cfb41a7c3bedc0da987e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>debug_assert_func_f</b> (const char *file, int line, const char *func, const char *failedexpr, const char *msg,...)</td></tr>
<tr class="memdesc:a8b30820e0172cfb41a7c3bedc0da987e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Underlying implementation function for assert() and <a class="el" href="debug_8h.html#a66673aad3e392c6b58054aebe66fe28e" title="assertf() is like assert() with an attached printf().">assertf</a>. <br /></td></tr>
<tr class="separator:a8b30820e0172cfb41a7c3bedc0da987e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c3c99fed44410bc1ef618e77c7201d4"><td class="memItemLeft" align="right" valign="top"><a id="a6c3c99fed44410bc1ef618e77c7201d4" name="a6c3c99fed44410bc1ef618e77c7201d4"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>debug_assert_func</b> (const char *file, int line, const char *func, const char *failedexpr)</td></tr>
<tr class="memdesc:a6c3c99fed44410bc1ef618e77c7201d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assertion function that is registered into <a class="el" href="system_8c.html" title="newlib Interface Hooks">system.c</a> at startup. <br /></td></tr>
<tr class="separator:a6c3c99fed44410bc1ef618e77c7201d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af507aade880b5f43ac256c1c1a8c8d5f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug_8c.html#af507aade880b5f43ac256c1c1a8c8d5f">debug_hexdump</a> (const void *vbuf, int size)</td></tr>
<tr class="memdesc:af507aade880b5f43ac256c1c1a8c8d5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do a hexdump of the specified buffer via <a class="el" href="debug_8h.html#aa3e8be416ef1525cfd3230204b56d184" title="Write a message to the debugging channel.">debugf</a>.  <a href="debug_8c.html#af507aade880b5f43ac256c1c1a8c8d5f">More...</a><br /></td></tr>
<tr class="separator:af507aade880b5f43ac256c1c1a8c8d5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48a47644097877a8b22a70951445524d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug_8c.html#a48a47644097877a8b22a70951445524d">debug_backtrace</a> (void)</td></tr>
<tr class="memdesc:a48a47644097877a8b22a70951445524d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dump a backtrace (call stack) via <a class="el" href="debug_8h.html#aa3e8be416ef1525cfd3230204b56d184" title="Write a message to the debugging channel.">debugf</a>.  <a href="debug_8c.html#a48a47644097877a8b22a70951445524d">More...</a><br /></td></tr>
<tr class="separator:a48a47644097877a8b22a70951445524d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Debugging Support. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="afc19541124f4e8e53c6deb3367030740" name="afc19541124f4e8e53c6deb3367030740"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc19541124f4e8e53c6deb3367030740">&#9670;&nbsp;</a></span>ISVIEWER_WRITE_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ISVIEWER_WRITE_LEN&#160;&#160;&#160;((volatile uint32_t *)0xB3FF0014)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >ISViewer register for buffer write length </p>

</div>
</div>
<a id="ac8ee018ab83421d4023d62dbf101a3a7" name="ac8ee018ab83421d4023d62dbf101a3a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8ee018ab83421d4023d62dbf101a3a7">&#9670;&nbsp;</a></span>ISVIEWER_BUFFER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ISVIEWER_BUFFER&#160;&#160;&#160;((volatile uint32_t *)0xB3FF0020)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >ISViewer buffer </p>

</div>
</div>
<a id="a27745d9b9c5d96c55b87b67b1aa998d6" name="a27745d9b9c5d96c55b87b67b1aa998d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27745d9b9c5d96c55b87b67b1aa998d6">&#9670;&nbsp;</a></span>ISVIEWER_BUFFER_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ISVIEWER_BUFFER_LEN&#160;&#160;&#160;0x00000200</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >ISViewer buffer length </p>

</div>
</div>
<a id="aa96bc6bb5bf359ae13b78e7ff9a3527e" name="aa96bc6bb5bf359ae13b78e7ff9a3527e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa96bc6bb5bf359ae13b78e7ff9a3527e">&#9670;&nbsp;</a></span>MAX_FAT_FILES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_FAT_FILES&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Maximum number of FAT files that can be concurrently opened </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="af507aade880b5f43ac256c1c1a8c8d5f" name="af507aade880b5f43ac256c1c1a8c8d5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af507aade880b5f43ac256c1c1a8c8d5f">&#9670;&nbsp;</a></span>debug_hexdump()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void debug_hexdump </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Do a hexdump of the specified buffer via <a class="el" href="debug_8h.html#aa3e8be416ef1525cfd3230204b56d184" title="Write a message to the debugging channel.">debugf</a>. </p>
<p >This is useful to dump a binary buffer for debugging purposes. The hexdump shown contains both the hexadecimal and ASCII values, similar to what hex editors do.</p>
<p >Sample output:</p>
<pre>
0000  80 80 80 80 80 80 80 80  80 80 80 80 80 80 80 80   |................|
0010  45 67 cd ef aa aa aa aa  aa aa aa aa aa aa aa aa   |Eg..............| 
0020  9a bc 12 34 80 80 80 80  80 80 80 80 80 80 80 80   |...4............|
0030  aa aa aa aa aa aa aa aa  ef 01 67 89 aa aa aa aa   |..........g.....|
0040  80 80 80 80 80 80 80 80  00 00 00 00 80 80 80 80   |................|
</pre><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer</td><td>Buffer to dump </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>Size of the buffer in bytes </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a48a47644097877a8b22a70951445524d" name="a48a47644097877a8b22a70951445524d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48a47644097877a8b22a70951445524d">&#9670;&nbsp;</a></span>debug_backtrace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void debug_backtrace </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dump a backtrace (call stack) via <a class="el" href="debug_8h.html#aa3e8be416ef1525cfd3230204b56d184" title="Write a message to the debugging channel.">debugf</a>. </p>
<p >This function will dump the current call stack to the debugging channel. It is useful to understand where the program is currently executing, and to understand the context of an error.</p>
<p >The implementation of this function relies on the lower level <a class="el" href="group__backtrace.html#ga3747bea884034d32d4d558872223969e" title="Walk the stack and return the current call stack.">backtrace</a> and <a class="el" href="group__backtrace.html#gaca2b35f3378753df6b8d2a2d48b8b9d9" title="Translate the buffer returned by backtrace into a list of strings.">backtrace_symbols</a> functions, which are implemented in libdragon itself via a symbol table embedded in the ROM. See <a class="el" href="group__backtrace.html#gaca2b35f3378753df6b8d2a2d48b8b9d9" title="Translate the buffer returned by backtrace into a list of strings.">backtrace_symbols</a> for more information.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__backtrace.html#ga3747bea884034d32d4d558872223969e" title="Walk the stack and return the current call stack.">backtrace</a> </dd>
<dd>
<a class="el" href="group__backtrace.html#gaca2b35f3378753df6b8d2a2d48b8b9d9" title="Translate the buffer returned by backtrace into a list of strings.">backtrace_symbols</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
