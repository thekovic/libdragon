<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libdragon: Backtrace (call stack) support</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo2.png"/></td>
  <td id="projectalign">
   <div id="projectname">libdragon
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Backtrace (call stack) support<div class="ingroups"><a class="el" href="group__libdragon.html">libdragon</a> &raquo; <a class="el" href="group__lowlevel.html">Low Level Hardware Interfaces</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Implementation of functions to walk the stack and dump a backtrace.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="files" name="files"></a>
Files</h2></td></tr>
<tr class="memitem:backtrace_8c"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="backtrace_8c.html">backtrace.c</a></td></tr>
<tr class="memdesc:backtrace_8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backtrace (call stack) support. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:backtrace_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="backtrace_8h.html">backtrace.h</a></td></tr>
<tr class="memdesc:backtrace_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backtrace (call stack) support. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structbacktrace__frame__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__backtrace.html#structbacktrace__frame__t">backtrace_frame_t</a></td></tr>
<tr class="memdesc:structbacktrace__frame__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">A stack frame, part of a backtrace.  <a href="group__backtrace.html#structbacktrace__frame__t">More...</a><br /></td></tr>
<tr class="separator:structbacktrace__frame__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga961ebc46193fd65a868daac8ecb16ce9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__backtrace.html#ga961ebc46193fd65a868daac8ecb16ce9">backtrace_frame_print</a> (<a class="el" href="group__backtrace.html#structbacktrace__frame__t">backtrace_frame_t</a> *frame, FILE *out)</td></tr>
<tr class="memdesc:ga961ebc46193fd65a868daac8ecb16ce9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print a single frame of a backtrace.  <a href="group__backtrace.html#ga961ebc46193fd65a868daac8ecb16ce9">More...</a><br /></td></tr>
<tr class="separator:ga961ebc46193fd65a868daac8ecb16ce9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga10fdf02abfdbf7d89d31eff0c0f106fb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__backtrace.html#ga10fdf02abfdbf7d89d31eff0c0f106fb">backtrace_frame_print_compact</a> (<a class="el" href="group__backtrace.html#structbacktrace__frame__t">backtrace_frame_t</a> *frame, FILE *out, int width)</td></tr>
<tr class="memdesc:ga10fdf02abfdbf7d89d31eff0c0f106fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print a single frame of a backtrace, in a compact format.  <a href="group__backtrace.html#ga10fdf02abfdbf7d89d31eff0c0f106fb">More...</a><br /></td></tr>
<tr class="separator:ga10fdf02abfdbf7d89d31eff0c0f106fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3747bea884034d32d4d558872223969e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__backtrace.html#ga3747bea884034d32d4d558872223969e">backtrace</a> (void **buffer, int size)</td></tr>
<tr class="memdesc:ga3747bea884034d32d4d558872223969e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Walk the stack and return the current call stack.  <a href="group__backtrace.html#ga3747bea884034d32d4d558872223969e">More...</a><br /></td></tr>
<tr class="separator:ga3747bea884034d32d4d558872223969e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaca2b35f3378753df6b8d2a2d48b8b9d9"><td class="memItemLeft" align="right" valign="top">char **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__backtrace.html#gaca2b35f3378753df6b8d2a2d48b8b9d9">backtrace_symbols</a> (void **buffer, int size)</td></tr>
<tr class="memdesc:gaca2b35f3378753df6b8d2a2d48b8b9d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Translate the buffer returned by <a class="el" href="group__backtrace.html#ga3747bea884034d32d4d558872223969e" title="Walk the stack and return the current call stack.">backtrace</a> into a list of strings.  <a href="group__backtrace.html#gaca2b35f3378753df6b8d2a2d48b8b9d9">More...</a><br /></td></tr>
<tr class="separator:gaca2b35f3378753df6b8d2a2d48b8b9d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga29121aee0428dbcf348d6218ad3c697c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__backtrace.html#ga29121aee0428dbcf348d6218ad3c697c">backtrace_symbols_cb</a> (void **buffer, int size, uint32_t flags, void(*cb)(void *, <a class="el" href="group__backtrace.html#structbacktrace__frame__t">backtrace_frame_t</a> *), void *cb_arg)</td></tr>
<tr class="memdesc:ga29121aee0428dbcf348d6218ad3c697c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Symbolize the buffer returned by <a class="el" href="group__backtrace.html#ga3747bea884034d32d4d558872223969e" title="Walk the stack and return the current call stack.">backtrace</a>, calling a callback for each frame.  <a href="group__backtrace.html#ga29121aee0428dbcf348d6218ad3c697c">More...</a><br /></td></tr>
<tr class="separator:ga29121aee0428dbcf348d6218ad3c697c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p >Implementation of functions to walk the stack and dump a backtrace. </p>
<p >This module implements two POSIX/GNU standard functions to help walking the stack and providing the current execution context: <a class="el" href="group__backtrace.html#ga3747bea884034d32d4d558872223969e" title="Walk the stack and return the current call stack.">backtrace()</a> and <a class="el" href="group__backtrace.html#gaca2b35f3378753df6b8d2a2d48b8b9d9" title="Translate the buffer returned by backtrace into a list of strings.">backtrace_symbols()</a>.</p>
<p >The functions have an API fully compatible with the standard ones. The implementation is however optimized for the MIPS/N64 case, and with standard compilation settings. See the documentation in <a class="el" href="backtrace_8c.html" title="Backtrace (call stack) support.">backtrace.c</a> for implementation details.</p>
<p >You can call the functions to inspect the current call stack. For a higher level function that just prints the current call stack on the debug channels, see <a class="el" href="debug_8h.html#a48a47644097877a8b22a70951445524d" title="Dump a backtrace (call stack) via debugf.">debug_backtrace</a>. </p>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structbacktrace__frame__t" id="structbacktrace__frame__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structbacktrace__frame__t">&#9670;&nbsp;</a></span>backtrace_frame_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct backtrace_frame_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p >A stack frame, part of a backtrace. </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="acb07c1948de8cb88001b17c67ad8175e" name="acb07c1948de8cb88001b17c67ad8175e"></a>uint32_t</td>
<td class="fieldname">
addr</td>
<td class="fielddoc">
PC address of the frame (MIPS virtual address) </td></tr>
<tr><td class="fieldtype">
<a id="a251f353c235860bb22988d6e3fc3195e" name="a251f353c235860bb22988d6e3fc3195e"></a>const char *</td>
<td class="fieldname">
func</td>
<td class="fielddoc">
Name of the function (this should always be present) </td></tr>
<tr><td class="fieldtype">
<a id="ac2288cd956de3ca76f82e62c3ba98e95" name="ac2288cd956de3ca76f82e62c3ba98e95"></a>uint32_t</td>
<td class="fieldname">
func_offset</td>
<td class="fielddoc">
Byte offset of the address within the function. </td></tr>
<tr><td class="fieldtype">
<a id="a021077e1f96b7945e18c86f6e000d6c5" name="a021077e1f96b7945e18c86f6e000d6c5"></a>const char *</td>
<td class="fieldname">
source_file</td>
<td class="fielddoc">
Name of the source file (if known, or "???" otherwise) </td></tr>
<tr><td class="fieldtype">
<a id="a3243349b7a265cc53d5cc69fd46e3d37" name="a3243349b7a265cc53d5cc69fd46e3d37"></a>int</td>
<td class="fieldname">
source_line</td>
<td class="fielddoc">
Line number in the source file (if known, or 0 otherwise) </td></tr>
<tr><td class="fieldtype">
<a id="a7491a1ec21e4c029117d889574417e25" name="a7491a1ec21e4c029117d889574417e25"></a>bool</td>
<td class="fieldname">
is_inline</td>
<td class="fielddoc">
True if this frame refers to an inlined function. </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga961ebc46193fd65a868daac8ecb16ce9" name="ga961ebc46193fd65a868daac8ecb16ce9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga961ebc46193fd65a868daac8ecb16ce9">&#9670;&nbsp;</a></span>backtrace_frame_print()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void backtrace_frame_print </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__backtrace.html#structbacktrace__frame__t">backtrace_frame_t</a> *&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print a single frame of a backtrace. </p>
<p >Print all the information about a single frame of a backtrace, with the following format:</p>
<div class="fragment"><div class="line">&lt;func&gt;+&lt;offset&gt; (&lt;source_file&gt;:&lt;source_line&gt;) [&lt;address&gt;]</div>
</div><!-- fragment --><p >for instance:</p>
<div class="fragment"><div class="line"><a class="code hl_function" href="debug_8c.html#a8b30820e0172cfb41a7c3bedc0da987e">debug_assert_func_f</a>+0x9c (/home/user/src/libdragon/src/debug.c:537) [0x80010c5c]</div>
<div class="ttc" id="adebug_8c_html_a8b30820e0172cfb41a7c3bedc0da987e"><div class="ttname"><a href="debug_8c.html#a8b30820e0172cfb41a7c3bedc0da987e">debug_assert_func_f</a></div><div class="ttdeci">void debug_assert_func_f(const char *file, int line, const char *func, const char *failedexpr, const char *msg,...)</div><div class="ttdoc">Underlying implementation function for assert() and assertf.</div><div class="ttdef"><b>Definition:</b> debug.c:619</div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">out</td><td>File to print to </td></tr>
    <tr><td class="paramname">frame</td><td>Frame to print </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga10fdf02abfdbf7d89d31eff0c0f106fb" name="ga10fdf02abfdbf7d89d31eff0c0f106fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga10fdf02abfdbf7d89d31eff0c0f106fb">&#9670;&nbsp;</a></span>backtrace_frame_print_compact()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void backtrace_frame_print_compact </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__backtrace.html#structbacktrace__frame__t">backtrace_frame_t</a> *&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>width</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print a single frame of a backtrace, in a compact format. </p>
<p >Print a frame of a backtrace in a compact format, with a limited width in number of characters. This is the format:</p>
<div class="fragment"><div class="line">&lt;func&gt; (&lt;source_file&gt;:&lt;source_line&gt;)</div>
</div><!-- fragment --><p >but the source file will be truncated to fit the width, showing only its final part. For instance, if the width is 40 characters, the following frame:</p>
<div class="fragment"><div class="line"><a class="code hl_function" href="debug_8c.html#a8b30820e0172cfb41a7c3bedc0da987e">debug_assert_func_f</a>+0x9c (/home/user/src/libdragon/src/debug.c:537) [0x80010c5c]</div>
</div><!-- fragment --><p >will be printed as:</p>
<div class="fragment"><div class="line"><a class="code hl_function" href="debug_8c.html#a8b30820e0172cfb41a7c3bedc0da987e">debug_assert_func_f</a> (.../src/debug.c:537)</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">out</td><td>File to print to </td></tr>
    <tr><td class="paramname">frame</td><td>Frame to print </td></tr>
    <tr><td class="paramname">width</td><td>Width in characters to fit the frame information to </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga3747bea884034d32d4d558872223969e" name="ga3747bea884034d32d4d558872223969e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3747bea884034d32d4d558872223969e">&#9670;&nbsp;</a></span>backtrace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int backtrace </td>
          <td>(</td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Walk the stack and return the current call stack. </p>
<p >This function will analyze the current execution context, walking the stack and returning informations on the active call frames.</p>
<p >This function adheres to POSIX specification. It does not allocate memory so it is safe to be called even in the context of low memory conditions or possibly corrupted heap.</p>
<p >If called within an interrupt or exception handler, the function is able to correctly walk backward the interrupt handler and show the context even before the exception was triggered.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>Empty array of pointers. This will be populated with pointers to the return addresses for each call frame. </td></tr>
    <tr><td class="paramname">size</td><td>Size of the buffer, that is, maximum number of call frames that will be walked by the function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of call frames walked (at most, size). </dd></dl>

</div>
</div>
<a id="gaca2b35f3378753df6b8d2a2d48b8b9d9" name="gaca2b35f3378753df6b8d2a2d48b8b9d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaca2b35f3378753df6b8d2a2d48b8b9d9">&#9670;&nbsp;</a></span>backtrace_symbols()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char ** backtrace_symbols </td>
          <td>(</td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Translate the buffer returned by <a class="el" href="group__backtrace.html#ga3747bea884034d32d4d558872223969e" title="Walk the stack and return the current call stack.">backtrace</a> into a list of strings. </p>
<p >This function symbolizes the buffer returned by <a class="el" href="group__backtrace.html#ga3747bea884034d32d4d558872223969e" title="Walk the stack and return the current call stack.">backtrace</a>, translating return addresses into function names and source code locations.</p>
<p >The user-readable strings are allocated on the heap and must be freed by the caller (via a single free() call). There is no need to free each of the returned strings: a single free() call is enough, as they are allocated in a single contiguous block.</p>
<p >This function adheres to POSIX specification.</p>
<p >This function also handles inlined functions. In general, inlined function do not have a real stack frame because they are expanded in place; so for instance a single stack frame (as returned by <a class="el" href="group__backtrace.html#ga3747bea884034d32d4d558872223969e" title="Walk the stack and return the current call stack.">backtrace</a>) can correspond to multiple symbolized stack frames, one per each inlined function. Since the POSIX API requires this function to return an array of the same size of the input array, all inlined functions are collapsed into a single string, separated by newlines.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>Array of return addresses, populated by <a class="el" href="group__backtrace.html#ga3747bea884034d32d4d558872223969e" title="Walk the stack and return the current call stack.">backtrace</a> </td></tr>
    <tr><td class="paramname">size</td><td>Size of the provided buffer, in number of pointers. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Array of strings, one for each call frame. The array must be freed by the caller with a single free() call.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__backtrace.html#ga29121aee0428dbcf348d6218ad3c697c" title="Symbolize the buffer returned by backtrace, calling a callback for each frame.">backtrace_symbols_cb</a> </dd></dl>

</div>
</div>
<a id="ga29121aee0428dbcf348d6218ad3c697c" name="ga29121aee0428dbcf348d6218ad3c697c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga29121aee0428dbcf348d6218ad3c697c">&#9670;&nbsp;</a></span>backtrace_symbols_cb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool backtrace_symbols_cb </td>
          <td>(</td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *, <a class="el" href="group__backtrace.html#structbacktrace__frame__t">backtrace_frame_t</a> *)&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cb_arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Symbolize the buffer returned by <a class="el" href="group__backtrace.html#ga3747bea884034d32d4d558872223969e" title="Walk the stack and return the current call stack.">backtrace</a>, calling a callback for each frame. </p>
<p >This function is similar to <a class="el" href="group__backtrace.html#gaca2b35f3378753df6b8d2a2d48b8b9d9" title="Translate the buffer returned by backtrace into a list of strings.">backtrace_symbols</a>, but instead of formatting strings into a heap-allocated buffer, it invokes a callback for each symbolized stack frame. This allows to skip the memory allocation if not required, and also allows for custom processing / formatting of the backtrace by the caller.</p>
<p >The callback will receive an opaque argument (cb_arg) and a pointer to a stack frame descriptor (<a class="el" href="group__backtrace.html#structbacktrace__frame__t" title="A stack frame, part of a backtrace.">backtrace_frame_t</a>). The descriptor and all its contents (including strings) is valid only for the duration of the call, so the callback must (deep-)copy any data it needs to keep.</p>
<p >The callback implementation might find useful to call <a class="el" href="group__backtrace.html#ga961ebc46193fd65a868daac8ecb16ce9" title="Print a single frame of a backtrace.">backtrace_frame_print</a> or <a class="el" href="group__backtrace.html#ga10fdf02abfdbf7d89d31eff0c0f106fb" title="Print a single frame of a backtrace, in a compact format.">backtrace_frame_print_compact</a> to print the frame information.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>Array of return addresses, populated by <a class="el" href="group__backtrace.html#ga3747bea884034d32d4d558872223969e" title="Walk the stack and return the current call stack.">backtrace</a> </td></tr>
    <tr><td class="paramname">size</td><td>Size of the provided buffer, in number of pointers. </td></tr>
    <tr><td class="paramname">flags</td><td>Flags to control the symbolization process. Use 0. </td></tr>
    <tr><td class="paramname">cb</td><td>Callback function to invoke for each symbolized frame </td></tr>
    <tr><td class="paramname">cb_arg</td><td>Opaque argument to pass to the callback function </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the symbolization was successful, false otherwise. Notice that the function returns true even if some frames were not symbolized; false is only used when the function had to abort before even calling the callback once (eg: no symbol table was found).</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__backtrace.html#gaca2b35f3378753df6b8d2a2d48b8b9d9" title="Translate the buffer returned by backtrace into a list of strings.">backtrace_symbols</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
